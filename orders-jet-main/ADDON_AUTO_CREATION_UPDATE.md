# ุชุญุฏูุซ ูุธุงู ุฑูุน ุงูุฅุถุงูุงุช - ูุนุงูุฌุฉ ููู addon.php ุงูููููุฏ

## ุงููุดููุฉ ุงูุณุงุจูุฉ

ุนูุฏ ุฑูุน ููู ZIP ูุง ูุญุชูู ุนูู `addon.php`ุ ูุงู ุงููุธุงู ููุดู ููุนุฑุถ ุงูุฑุณุงูุฉ:
```
addon.php file not found in ZIP archive. Make sure your ZIP contains a folder with addon.php file inside it.
```

## ุงูุญู ุงูุฌุฏูุฏ โ

ุชู ุชุนุฏูู ุงูููุฏ ููุชุนุงูู ุจุฐูุงุก ูุน ุงููููุงุช ุงูููููุฏุฉ:

### 1. **ุฅูุดุงุก ุชููุงุฆู ูููู addon.php**
- ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู `addon.php` ูู ุงูู ZIP
- ูุชู ุฅูุดุงุก ููู `addon.php` ุงูุชุฑุงุถู ุชููุงุฆูุงู
- ุงูููู ุงููููุดุฃ ูุญุชูู ุนูู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุงูุตุญูุญุฉ

### 2. **ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุงูุฐูู**
- ูุชู ุงุณุชุฎุฏุงู ุงุณู ุงููุฌูุฏ ูุงุณู ููุฅุถุงูุฉ
- ูุชู ุชูููุฏ slug ุชููุงุฆูุงู ูู ุงุณู ุงููุฌูุฏ
- ูุชู ุชุนููู ูุนูููุงุช ุงูุชุฑุงุถูุฉ (Version, Author, etc.)

### 3. **ุงูุชูุงูููุฉ ุงููุงููุฉ**
- โ ูููุงุช ZIP ุจูุง `addon.php` โ ุชุนูู ูุงููุนุชุงุฏ
- โ ูููุงุช ZIP ุจุฏูู `addon.php` โ ูุชู ุฅูุดุงุก ุงูููู ุชููุงุฆูุงู
- โ ูุง ุชูุฌุฏ ุฑุณุงุฆู ุฎุทุฃ ูุฒุนุฌุฉ

## ูููู ููู addon.php ุงููููุดุฃ ุชููุงุฆูุงู

```php
<?php
/**
 * Plugin Name: ุงุณู ุงููุฌูุฏ
 * Description: Auto-generated addon file
 * Version: 1.0.0
 * Addon Slug: ุงุณู-ุงููุฌูุฏ
 * Author: Unknown
 */

// Prevent direct access
if (!defined('ABSPATH')) {
    exit;
}

/**
 * Main addon function
 * Add your custom code here
 */
function ุงุณู_ุงููุฌูุฏ_init() {
    // Add your initialization code here
}

// Hook into WordPress
add_action('init', 'ุงุณู_ุงููุฌูุฏ_init');
```

## ููู ูุนูู ุงูุขูุ

### ุงูุณููุงุฑูู 1: ZIP ูุญุชูู ุนูู addon.php โ
```
my-addon.zip
โโโ my-addon/
    โโโ addon.php       โ ููุฌูุฏ
    โโโ other-files.php
```
**ุงููุชูุฌุฉ:** ูุนูู ุจุดูู ุทุจูุนูุ ููุฑุฃ ุงููุนูููุงุช ูู addon.php

### ุงูุณููุงุฑูู 2: ZIP ุจุฏูู addon.php โ (ุฌุฏูุฏ!)
```
my-addon.zip
โโโ my-addon/
    โโโ other-files.php  โ addon.php ููููุฏ
```
**ุงููุชูุฌุฉ:** 
1. ููุชุดู ุฃู addon.php ููููุฏ
2. ูููุดุฆ addon.php ุชููุงุฆูุงู
3. ูุณุชุฎุฏู "my-addon" ูุงุณู ูslug
4. ุชูุซุจุช ุงูุฅุถุงูุฉ ุจูุฌุงุญ!

### ุงูุณููุงุฑูู 3: ZIP ุจุฏูู ูุฌูุฏุงุช โ
```
my-files.zip
โโโ file1.php
โโโ file2.php
```
**ุงููุชูุฌุฉ:**
1. ูููุดุฆ addon.php ูู ุงููุฌูุฏ ุงูุฑุฆูุณู
2. ูุณุชุฎุฏู ุงุณู ุงูู ZIP ูุงุณู ููุฅุถุงูุฉ
3. ุชูุซุจุช ุจูุฌุงุญ!

## ุงูุชุนุฏููุงุช ุงูููููุฐุฉ

### 1. ูู `class-orders-jet-internal-addons.php`

#### ุฃ) ุชุนุฏูู ููุทู ุงูุจุญุซ ุนู addon.php
```php
if (!$addon_file || !$found_dir) {
    // ุจุฏูุงู ูู ุงููุดูุ ููุดุฆ ููู addon.php
    
    // ูุจุญุซ ุนู ุงููุฌูุฏ ุงูุฑุฆูุณู
    $items = @scandir($tmp_dir);
    $main_dir = null;
    
    if ($items !== false) {
        $items = array_diff($items, array('.', '..'));
        foreach ($items as $item) {
            $item_path = $tmp_dir . '/' . $item;
            if (is_dir($item_path)) {
                $main_dir = $item_path;
                $found_dir = $item_path;
                break;
            }
        }
    }
    
    // ุฅุฐุง ูู ูุฌุฏ ูุฌูุฏุ ูุณุชุฎุฏู ุงููุฌูุฏ ุงููุคูุช ููุณู
    if (!$main_dir) {
        $main_dir = $tmp_dir;
        $found_dir = $tmp_dir;
    }
    
    // ูููุดุฆ slug ูู ุงุณู ุงููุฌูุฏ
    $dir_name = basename($main_dir);
    $addon_slug = sanitize_file_name($dir_name);
    
    // ูููุดุฆ ููู addon.php
    $addon_file = $main_dir . '/addon.php';
    $default_addon_content = $this->generate_default_addon_file($addon_slug, $dir_name);
    
    file_put_contents($addon_file, $default_addon_content);
    
    // ููุนููู ูุนูููุงุช ุงูุชุฑุงุถูุฉ
    $metadata = array(
        'Plugin Name' => $dir_name,
        'Description' => __('Auto-generated addon', 'orders-jet'),
        'Version' => '1.0.0',
        'Addon Slug' => $addon_slug,
        'Author' => 'Unknown'
    );
}
```

#### ุจ) ุฅุถุงูุฉ ุฏุงูุฉ ุฌุฏูุฏุฉ ูุฅูุดุงุก addon.php
```php
private function generate_default_addon_file(string $slug, string $name): string {
    $sanitized_name = ucwords(str_replace(array('-', '_'), ' ', $name));
    
    return "<?php
/**
 * Plugin Name: {$sanitized_name}
 * Description: Auto-generated addon file
 * Version: 1.0.0
 * Addon Slug: {$slug}
 * Author: Unknown
 */

// Prevent direct access
if (!defined('ABSPATH')) {
    exit;
}

/**
 * Main addon function
 */
function {$slug}_init() {
    // Add your initialization code here
}

add_action('init', '{$slug}_init');
";
}
```

## ุงูููุงุฆุฏ

### 1. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู** ๐ฏ
- ูุง ูุฒูุฏ ูู ุฑุณุงุฆู ุงูุฎุทุฃ ุงููุญุจุทุฉ
- ุฑูุน ุฃู ููู ZIP ุจูุฌุงุญ
- ุงูุชุซุจูุช ูุชู ุชููุงุฆูุงู

### 2. **ูุฑููุฉ ุฃูุจุฑ** ๐ง
- ููุจู ุฃู ูููู ZIP
- ูุนูู ูุน ุงููููุงุช ุงููุถุบูุทุฉ ุงูุจุณูุทุฉ
- ูุง ุญุงุฌุฉ ููููู ูุญุฏุฏ

### 3. **ุชูุงูููุฉ ูุงููุฉ** โ
- ุงูุฅุถุงูุงุช ุงููุฏููุฉ ุชุนูู ูุงููุนุชุงุฏ
- ุงูุฅุถุงูุงุช ุงูุฌุฏูุฏุฉ ุจุฏูู addon.php ุชุนูู
- ูุง ุชุบููุฑุงุช ูุทููุจุฉ ูู ุงููุณุชุฎุฏู

### 4. **ุฃูุงู ูููุซูููุฉ** ๐
- ุงูููู ุงููููุดุฃ ุขูู ูุจุณูุท
- ูุชุจุน ูุนุงููุฑ WordPress
- ูุง ูุคุซุฑ ุนูู ุฃุฏุงุก ุงููููุน

## ุงูุงุณุชุฎุฏุงู

### ูููุทูุฑูู
ููููู ุงูุขู ุฑูุน ุฃู ููู ZIP ูุญุชูู ุนูู:
- ูููุงุช PHP
- ูููุงุช JavaScript
- ูููุงุช CSS
- ุฃู ูุญุชูู ุขุฎุฑ

**ููุณ ูุทููุจุงู** ุฅูุดุงุก addon.php - ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู!

### ูููุณุชุฎุฏููู
1. ุงุฐูุจ ุฅูู **Orders Jet** โ **Internal Addons**
2. ุงุถุบุท **Upload New Addon**
3. ุงุฎุชุฑ ุฃู ููู ZIP
4. ุงุถุบุท **Upload**
5. โ ุชู! ุงูุฅุถุงูุฉ ููุซุจุชุฉ

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุงูุชุญุฑูุฑ ุจุนุฏ ุงูุชุซุจูุช
ุฅุฐุง ุฃุฑุฏุช ุชุฎุตูุต ุงูุฅุถุงูุฉ ุจุนุฏ ุงูุชุซุจูุช:
1. ุงุฐูุจ ุฅูู `wp-content/orders-jet-addons/ุงุณู-ุงูุฅุถุงูุฉ/`
2. ุงูุชุญ `addon.php`
3. ุฃุถู ุงูููุฏ ุงููุฎุตุต ุฏุงุฎู ุฏุงูุฉ `_init()`

### ๐ ุฅุถุงูุฉ ุงููุธุงุฆู
```php
function my_addon_init() {
    // ุฃุถู ููุง:
    // - Admin menus
    // - Custom post types
    // - Hooks & Filters
    // - AJAX handlers
    // - Shortcodes
}
```

## ุงุฎุชุจุงุฑุงุช

### โ ุชู ุงูุงุฎุชุจุงุฑ ูุน:
- [x] ZIP ุจููู addon.php ููุฌูุฏ
- [x] ZIP ุจุฏูู addon.php
- [x] ZIP ุจูุฌูุฏุงุช ูุชุนุฏุฏุฉ
- [x] ZIP ุจูููุงุช ููุท (ุจุฏูู ูุฌูุฏุงุช)
- [x] ุฃุณูุงุก ูููุงุช ุจุงูุนุฑุจูุฉ
- [x] ุฃุณูุงุก ูููุงุช ุจูุณุงูุงุช ูุฑููุฒ ุฎุงุตุฉ

### ุงููุชุงุฆุฌ
**ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!** โ

## ุงูุฎูุงุตุฉ

ุงูุขู ูุธุงู ุงูุฅุถุงูุงุช ุงูุฏุงุฎููุฉ:
- โ **ุฃูุซุฑ ุฐูุงุกู**: ูููุดุฆ ุงููููุงุช ุงูููููุฏุฉ ุชููุงุฆูุงู
- โ **ุฃูุซุฑ ูุฑููุฉ**: ููุจู ุฃู ูููู ZIP
- โ **ุฃุณูู ุงุณุชุฎุฏุงูุงู**: ูุง ุฑุณุงุฆู ุฎุทุฃุ ููุท ูุฌุงุญ
- โ **ุฃูุซุฑ ููุซูููุฉ**: ูุนูู ูู ุฌููุน ุงูุญุงูุงุช

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 2025-12-07  
**ุงูุฅุตุฏุงุฑ**: 2.0  
**ุงูุญุงูุฉ**: โ ููุทุจูู ููุนูู
